{"version":3,"sources":["components/views/CreateTacticPage/images/basketball-ball.svg","components/views/CreateTacticPage/images/court.jpg","_actions/user_actions.js","_actions/types.js","components/Config.js","hoc/auth.js","components/views/LandingPage/VideoCard.js","components/views/LandingPage/LandingPage.js","components/views/LoginPage/LoginPage.js","components/views/RegisterPage/Layout.js","components/views/RegisterPage/RegisterPage.js","components/views/NavBar/Sections/LeftMenu.js","components/views/NavBar/Sections/RightMenu.js","components/views/NavBar/NavBar.js","components/views/UploadVideoPage/UploadVideoPage.js","components/views/DetailVideoPage/Sections/SideVideoCard.js","components/views/DetailVideoPage/Sections/SideVideo.js","components/views/DetailVideoPage/Sections/Subscribe.js","components/views/DetailVideoPage/Sections/LikeDislikes.js","components/views/DetailVideoPage/Sections/SingleComment.js","components/views/DetailVideoPage/Sections/ReplyComment.js","components/views/DetailVideoPage/Sections/Comments.js","components/views/DetailVideoPage/DetailVideoPage.js","components/views/SubscriptionPage/SubscriptionPage.js","components/views/UserPage/UserPage.js","components/views/CreateTacticPage/InitialPosition.js","components/views/SearchPage/SearchPage.js","components/views/CreateTacticPage/OpacityPlayer.js","components/views/CreateTacticPage/ControlPoint.js","components/views/CreateTacticPage/PlayerBall.js","components/views/CreateTacticPage/CreateTacticPage.js","components/App.js","serviceWorker.js","_reducers/index.js","_reducers/user_reducer.js","index.js"],"names":["module","exports","auth","type","payload","axios","get","then","response","data","SpecificComponent","option","adminRoute","AuthenticationCheck","props","user","useSelector","state","dispatch","useDispatch","useEffect","isAuth","isAdmin","history","push","VideoCard","video","minutes","Math","floor","duration","seconds","className","style","border","href","_id","position","class","src","thumbnail","alt","bottom","right","margin","color","backgroundColor","opacity","padding","borderRadius","letterSpacing","fontSize","fontWeight","lineHeight","writer","width","height","image","title","name","views","moment","createdAt","format","LandingPage","useState","videos","setVideos","res","success","console","log","alert","map","idx","key","Title","Typography","withRouter","rememberMeChecked","localStorage","getItem","formErrorMessage","setFormErrorMessage","rememberMe","setRememberMe","handleRememberMe","yupSchema","Yup","shape","email","required","password","min","initialValues","validationSchema","onSubmit","values","setSubmitting","setTimeout","dataToSubmit","post","loginUser","loginSuccess","window","setItem","userId","id","removeItem","catch","err","touched","errors","isSubmitting","handleChange","handleBlur","handleSubmit","level","Item","placeholder","value","onChange","onBlur","checked","float","htmlType","minWidth","disabled","formItemLayout","labelCol","xs","span","sm","wrapperCol","tailFormItemLayout","offset","lastName","confirmPassword","oneOf","RegisterPage","lastname","registerUser","errmsg","label","hasFeedback","validateStatus","onClick","LeftMenu","mode","userData","status","visible","setVisible","search","setSearch","zIndex","placement","closable","onClose","e","preventDefault","target","aria-label","UploadVideoPage","setTitle","description","setDescription","privacy","setPrivacy","filePath","setFilePath","setThumbnail","setDuration","event","info","onDrop","files","formData","FormData","append","header","tmp","fileName","fileDuration","thumbFilePath","multiple","maxSize","getRootProps","getInputProps","display","alignItems","justifyContent","htmlFor","currentTarget","htmlfor","SideVideoCard","marginRight","SideVideo","videoId","sideVideos","setSideVideos","filter","Subscribe","videoWriter","handleSubscribeNumber","subscribeNumber","setSubscribeNumber","subscribed","setSubscribed","sub","userTo","userFrom","LikeDislikes","likesNumber","setLikesNumber","dislikesNumber","setDislikesNumber","like","setLike","dislike","setDislike","variable","commentId","likes","dislikes","size","mar","paddingLeft","cursor","SingleComment","comment","refreshComments","postId","commentValue","setCommentValue","openReply","setOpenReply","marginBottom","content","responseTo","result","aria-describedby","ReplyComment","commentList","parentCommentId","childCommentNumber","setChildCommentNumber","commentNumber","length","Fragment","Comments","handleComments","setComment","Axios","DetailVideoPage","match","params","setVideo","subscribe","setSubscribe","comments","setComments","controls","number","newComment","concat","SubscriptionPage","userName","setUserName","SearchPage","all","i","team","j","player","dragging","x","y","hasMoved","ball","hasAnimation","exist","path","ctrl_pt1","ctrl_pt2","OpacityPlayer","basketball","cx","cy","r","fill","ControlPoint","onMouseDown","onMouseMove","onMouseUp","data-draggable","data-long-touchable","data-on-top-when-touched","PlayerBall","CreateTacticPage","courtWidth","courtHeight","windowWidth","windowHeight","viewSize","setViewSize","totalFrame","setTotalFrame","currentFrame","setCurrentFrame","setPosition","animation","setAnimation","previousPosition","setPreviousPosition","play","setPlay","end","setEnd","videoInfo","setVideoInfo","frameRate","timer","setTimer","useLayoutEffect","updateSize","w","h","innerWidth","innerHeight","pos","team_id","player_id","addEventListener","removeEventListener","player_section","handlePointerDown","CTM","document","getElementById","getScreenCTM","clientX","a","clientY","f","d","ani","point","x1","y1","x2","y2","stroke","handlePointerMove","handlePointerUp","animation_path","handleControlPointDown","handleControlPointMove","handleControlPointUp","control_point","interval","t","getCurrentTime","frame","round","handleStop","clearInterval","pauseAnimations","setCurrentTime","frame_id","attributeName","to","begin","dur","from","repeatCount","unpauseAnimations","setInterval","videoFrame","forEach","move","fixed_section","viewBox","court","App","fallback","paddingTop","minHeight","exact","component","Auth","LoginPage","UserPage","Boolean","location","hostname","rootReducer","combineReducers","action","register","loginSucces","createStoreWithMiddleware","applyMiddleware","promiseMiddleware","ReduxThunk","createStore","ReactDOM","render","store","Reducer","__REDUX_DEVTOOLS_EXTENSION__","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.d7a2f945.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/basketball-ball.ba2d126c.svg\";","module.exports = __webpack_public_path__ + \"static/media/court.7bd36446.jpg\";","import axios from 'axios';\nimport {\n    LOGIN_USER,\n    REGISTER_USER,\n    AUTH_USER,\n    LOGOUT_USER,\n} from './types';\nimport { USER_SERVER } from '../components/Config.js';\n\nexport function registerUser(dataToSubmit){\n    const request = axios.post(`${USER_SERVER}/register`,dataToSubmit)\n        .then(response => response.data);\n    \n    return {\n        type: REGISTER_USER,\n        payload: request\n    }\n}\n\nexport function loginUser(dataToSubmit){\n    const request = axios.post(`${USER_SERVER}/login`,dataToSubmit)\n                .then(response => response.data);\n\n    return {\n        type: LOGIN_USER,\n        payload: request\n    }\n}\n\nexport function auth(){\n    const request = axios.get(`${USER_SERVER}/auth`)\n    .then(response => response.data);\n\n    return {\n        type: AUTH_USER,\n        payload: request\n    }\n}\n\nexport function logoutUser(){\n    const request = axios.get(`${USER_SERVER}/logout`)\n    .then(response => response.data);\n\n    return {\n        type: LOGOUT_USER,\n        payload: request\n    }\n}\n\n","export const LOGIN_USER = 'login_user';\nexport const REGISTER_USER = 'register_user';\nexport const AUTH_USER = 'auth_user';\nexport const LOGOUT_USER = 'logout_user';\n","//SERVER ROUTES\nexport const USER_SERVER = '/api/users';\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect } from 'react';\nimport { auth } from '../_actions/user_actions';\nimport { useSelector, useDispatch } from \"react-redux\";\n\nexport default function (SpecificComponent, option, adminRoute = null) {\n    function AuthenticationCheck(props) {\n\n        let user = useSelector(state => state.user);\n        const dispatch = useDispatch();\n\n        useEffect(() => {\n            //To know my current status, send Auth request \n            dispatch(auth()).then(response => {\n                //Not Loggined in Status \n                if (!response.payload.isAuth) {\n                    if (option) {\n                        props.history.push('/login')\n                    }\n                    //Loggined in Status \n                } else {\n                    //supposed to be Admin page, but not admin person wants to go inside\n                    if (adminRoute && !response.payload.isAdmin) {\n                        props.history.push('/')\n                    }\n                    //Logged in Status, but Try to go into log in page \n                    else {\n                        if (option === false) {\n                            props.history.push('/')\n                        }\n                    }\n                }\n            })\n\n        }, [])\n\n        return (\n            <SpecificComponent {...props} user={user} />\n        )\n    }\n    return AuthenticationCheck\n}\n\n\n","import React from 'react';\nimport moment from 'moment';\n\nfunction VideoCard({video}) {\n    const minutes = Math.floor(video.duration / 60);\n    const seconds = Math.floor(video.duration - minutes * 60);\n\n    return (\n        <div className = \"col-lg-4 col-md-6 col-sm-12\">\n            <div className = \"card\" style = {{border: \"none\"}}>\n                <a href = {`/video/${video._id}`}>\n                    <div style={{ position: 'relative' }}>\n                        <img class=\"card-img-top img-fluid\" src = {`http://localhost:5000/${video.thumbnail}`} alt = \"img\" />\n                        <div className=\" duration\"\n                            style={{ bottom: 0, right: 0, position: 'absolute', margin: '4px', \n                            color: '#fff', backgroundColor: 'rgba(17, 17, 17, 0.8)', opacity: 0.8, \n                            padding: '2px 4px', borderRadius:'2px', letterSpacing:'0.5px', fontSize:'12px',\n                            fontWeight:'bolder', lineHeight:'12px' }}>\n                            <span>{minutes}:{seconds}</span>\n                        </div>\n                    </div>\n                </a>\n                <div className = \"card-block d-flex\">\n                    <a href = {`/user/${video.writer._id}`} className = \"mt-3\" style = {{width: \"40px\", height: \"40px\"}}>\n                        <img className = \"img-fluid maxwidth\"  style = {{width: \"100%\", height: \"100%\",borderRadius: \"50%\"}} src={video.writer.image} alt = \"img\"/>\n                    </a>\n                    <div className = \"ml-3 mt-2\">\n                        <h4 className = \"card-title\"> {video.title} </h4>\n                        <h6 className = \"font-weight-lighter\">{video.writer.name} </h6>\n                        <span className = \"font-weight-lighter\"> views : {video.views}</span><br />\n                        <span className = \"font-weight-lighter\"> {moment(video.createdAt).format(\"YYYY-MM-DD\")} </span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default VideoCard;\n\n","import axios from 'axios'\nimport React, { useEffect , useState } from 'react'\nimport VideoCard from './VideoCard';\n\nfunction LandingPage() {\n    const [videos, setVideos] = useState([]);\n    useEffect(() => {\n        axios.get('/api/video/getVideos').then(res => {\n            if(res.data.success){\n                console.log(res.data); \n                setVideos(res.data.videos);\n            }\n            else{\n                alert('Failed to get videos');\n            }\n        })\n    }, [])\n\n    return (\n        <div className = \"container my-3\">\n            <h2 className = \"display1 mt-5 mb-3\"> Recommended </h2>\n            <hr className = \"mb-3\"/>\n            <div className = \"row\">\n                {videos.map((video, idx) => {\n                    return <VideoCard video = {video} key = {idx}/>\n                })}\n            </div>\n        </div>\n    )\n}\n\nexport default LandingPage\n","import React, { useState } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { loginUser } from \"../../../_actions/user_actions\";\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { Form, Input, Button, Checkbox, Typography } from 'antd';\nimport { useDispatch } from \"react-redux\";\n\nconst { Title } = Typography;\n\nfunction LoginPage(props) {\n  const dispatch = useDispatch();\n  const rememberMeChecked = localStorage.getItem(\"rememberMe\") ? true : false;\n\n  const [formErrorMessage, setFormErrorMessage] = useState('')\n  const [rememberMe, setRememberMe] = useState(rememberMeChecked)\n\n  const handleRememberMe = () => {\n    setRememberMe(!rememberMe)\n  };\n\n  const yupSchema = Yup.object().shape({\n    email: Yup.string()\n      .email('Email is invalid')\n      .required('Email is required'),\n    password: Yup.string()\n      .min(6, 'Password must be at least 6 characters')\n      .required('Password is required'),\n  });\n  \n\n  return (\n    <Formik\n      initialValues={{\n        email: '',\n        password: '',\n      }}\n      validationSchema={yupSchema}\n      onSubmit={(values, { setSubmitting }) => {\n        setTimeout(() => {\n          let dataToSubmit = {\n            email: values.email,\n            password: values.password\n          };\n\n          dispatch(loginUser(dataToSubmit))\n            .then(response => {\n              if (response.payload.loginSuccess) {\n                window.localStorage.setItem('userId', response.payload.userId);\n                if (rememberMe === true) {\n                  window.localStorage.setItem('rememberMe', values.id);\n                } else {\n                  localStorage.removeItem('rememberMe');\n                }\n                props.history.push(\"/\");\n              } else {\n                setFormErrorMessage('Check out your Account or Password again')\n              }\n            })\n            .catch(err => {\n              setFormErrorMessage('Check out your Account or Password again')\n              setTimeout(() => {\n                setFormErrorMessage(\"\")\n              }, 3000);\n            });\n          setSubmitting(false);\n        }, 500);\n      }}\n    >\n      {props => {\n        const {\n          values,\n          touched,\n          errors,\n          isSubmitting,\n          handleChange,\n          handleBlur,\n          handleSubmit,\n        } = props;\n        return (\n          <div className=\"app\">\n\n            <Title level={2}>Log In</Title>\n            <form onSubmit={handleSubmit} style={{ width: '350px' }}>\n\n              <Form.Item required>\n                <Input\n                  id=\"email\"\n                  placeholder=\"Enter your email\"\n                  type=\"email\"\n                  value={values.email}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.email && touched.email ? 'text-input error' : 'text-input'\n                  }\n                />\n                {errors.email && touched.email && (\n                  <div className=\"input-feedback my-1 mr-1\">{errors.email}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item required>\n                <Input\n                  id=\"password\"\n                  placeholder=\"Enter your password\"\n                  type=\"password\"\n                  value={values.password}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.password && touched.password ? 'text-input error' : 'text-input'\n                  }\n                />\n                {errors.password && touched.password && (\n                  <div className=\"input-feedback my-1 mr-1\">{errors.password}</div>\n                )}\n              </Form.Item>\n\n              {formErrorMessage && (\n                <label ><p style={{ color: '#ff0000bf', fontSize: '0.7rem', border: '1px solid', padding: '1rem', borderRadius: '10px' }}>{formErrorMessage}</p></label>\n              )}\n\n              <Form.Item>\n                <Checkbox id=\"rememberMe\" onChange={handleRememberMe} checked={rememberMe} >Remember me</Checkbox>\n                <a className=\"login-form-forgot\" href=\"/reset_user\" style={{ float: 'right' }}>\n                  forgot password\n                  </a>\n                <div>\n                  <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\" style={{ minWidth: '100%' }} disabled={isSubmitting} onSubmit={handleSubmit}>\n                    Log in\n                </Button>\n                </div>\n                Or <a href=\"/register\">register now!</a>\n              </Form.Item>\n            </form>\n          </div>\n        );\n      }}\n    </Formik>\n  );\n};\n\nexport default withRouter(LoginPage);\n\n\n","export const formItemLayout = {\n    labelCol: {\n      xs: { span: 24 },\n      sm: { span: 8 },\n    },\n    wrapperCol: {\n      xs: { span: 24 },\n      sm: { span: 16 },\n    },\n  };\n\n export const tailFormItemLayout = {\n    wrapperCol: {\n      xs: {\n        span: 24,\n        offset: 0,\n      },\n      sm: {\n        span: 16,\n        offset: 8,\n      },\n    },\n  };","import React from \"react\";\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { registerUser } from \"../../../_actions/user_actions\";\nimport { useDispatch } from \"react-redux\";\nimport { Form, Input, Button } from 'antd';\n\nimport { formItemLayout , tailFormItemLayout } from './Layout';\n\nconst yupSchema = Yup.object().shape({\n  name: Yup.string()\n    .required('Name is required'),\n  lastName: Yup.string()\n    .required('Last Name is required'),\n  email: Yup.string()\n    .email('Email is invalid')\n    .required('Email is required'),\n  password: Yup.string()\n    .min(6, 'Password must be at least 6 characters')\n    .required('Password is required'),\n  confirmPassword: Yup.string()\n    .oneOf([Yup.ref('password'), null], 'Passwords must match')\n    .required('Confirm Password is required')\n});\n\n\n\nfunction RegisterPage(props) {\n  const dispatch = useDispatch();\n\n  const onSubmit = (values, { setSubmitting }) => {\n    setTimeout(() => {\n  \n      let dataToSubmit = {\n        email: values.email,\n        password: values.password,\n        name: values.name,\n        lastname: values.lastname,\n        image: \"https://grandimageinc.com/wp-content/uploads/2015/09/icon-user-default.png\"\n      };\n  \n      dispatch(registerUser(dataToSubmit)).then(response => {\n        if (response.payload.success) {\n          props.history.push(\"/login\");\n        } else {\n          alert(response.payload.err.errmsg)\n        }\n      })\n  \n      setSubmitting(false);\n    }, 500);\n  };\n\n  return (\n\n    <Formik\n      initialValues={{\n        email: '',\n        lastName: '',\n        name: '',\n        password: '',\n        confirmPassword: ''\n      }}\n      validationSchema = {yupSchema}\n      onSubmit = {onSubmit}\n    >\n      {props => {\n        const {\n          values,\n          touched,\n          errors,\n          isSubmitting,\n          handleChange,\n          handleBlur,\n          handleSubmit,\n        } = props;\n        return (\n          <div className=\"app\">\n            <h2>Sign up</h2>\n            <Form style={{ minWidth: '375px' }} {...formItemLayout} onSubmit={handleSubmit} >\n\n              <Form.Item required label=\"Name\">\n                <Input\n                  id=\"name\"\n                  placeholder=\"Enter your name\"\n                  type=\"text\"\n                  value={values.name}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.name && touched.name ? 'text-input error' : 'text-input'\n                  }\n                />\n                {errors.name && touched.name && (\n                  <div className=\"input-feedback my-1 mr-1\">{errors.name}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item required label=\"Last Name\">\n                <Input\n                  id=\"lastName\"\n                  placeholder=\"Enter your Last Name\"\n                  type=\"text\"\n                  value={values.lastName}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.lastName && touched.lastName ? 'text-input error' : 'text-input'\n                  }\n                />\n                {errors.lastName && touched.lastName && (\n                  <div className=\"input-feedback my-1 mr-1\">{errors.lastName}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item required label=\"Email\" hasFeedback validateStatus={errors.email && touched.email ? \"error\" : 'success'}>\n                <Input\n                  id=\"email\"\n                  placeholder=\"Enter your Email\"\n                  type=\"email\"\n                  value={values.email}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.email && touched.email ? 'text-input error' : 'text-input'\n                  }\n                />\n                {errors.email && touched.email && (\n                  <div className=\"input-feedback my-1 mr-1\">{errors.email}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item required label=\"Password\" hasFeedback validateStatus={errors.password && touched.password ? \"error\" : 'success'}>\n                <Input\n                  id=\"password\"\n                  placeholder=\"Enter your password\"\n                  type=\"password\"\n                  value={values.password}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.password && touched.password ? 'text-input error' : 'text-input'\n                  }\n                />\n                {errors.password && touched.password && (\n                  <div className=\"input-feedback my-1 mr-1\">{errors.password}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item required label=\"Confirm\" hasFeedback>\n                <Input\n                  id=\"confirmPassword\"\n                  placeholder=\"Enter your confirmPassword\"\n                  type=\"password\"\n                  value={values.confirmPassword}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={\n                    errors.confirmPassword && touched.confirmPassword ? 'text-input error' : 'text-input'\n                  }\n                />\n                {errors.confirmPassword && touched.confirmPassword && (\n                  <div className=\"input-feedback my-1 mr-1\">{errors.confirmPassword}</div>\n                )}\n              </Form.Item>\n\n              <Form.Item {...tailFormItemLayout}>\n                <Button onClick={handleSubmit} type=\"primary\" disabled={isSubmitting}>\n                  Submit\n                </Button>\n              </Form.Item>\n            </Form>\n          </div>\n        );\n      }}\n    </Formik>\n  );\n};\n\n\nexport default RegisterPage\n","import React from 'react';\nimport { Menu } from 'antd';\nimport { useSelector } from \"react-redux\";\n\nfunction LeftMenu(props) {\n  const user = useSelector(state => state.user)\n  return (\n    <Menu mode={props.mode}>\n    <Menu.Item key=\"mail\">\n      <a href=\"/\">Home</a>\n    </Menu.Item>\n    <Menu.Item key=\"myVideo\">\n        <a href = {`/user/${user.userData && user.userData._id}`}>My Video</a>\n    </Menu.Item>\n    <Menu.Item key=\"subscription\">\n      <a href=\"/subscription\">Subscription</a>\n    </Menu.Item>\n    <Menu.Item key=\"upload\">\n      <a href = \"/video/upload\">Upload</a>\n    </Menu.Item>\n  </Menu>\n  )\n}\n\nexport default LeftMenu","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React from 'react';\nimport { Menu } from 'antd';\nimport axios from 'axios';\nimport { USER_SERVER } from '../../../Config';\nimport { withRouter } from 'react-router-dom';\nimport { useSelector } from \"react-redux\";\n\nfunction RightMenu(props) {\n  const user = useSelector(state => state.user)\n\n  const logoutHandler = () => {\n    axios.get(`${USER_SERVER}/logout`).then(response => {\n      if (response.status === 200) {\n        props.history.push(\"/login\");\n      } else {\n        alert('Log Out Failed')\n      }\n    });\n  };\n\n  if (user.userData && !user.userData.isAuth) {\n    return (\n      <Menu mode={props.mode} >\n        <Menu.Item key=\"mail\" >\n          <a href=\"/login\">SignIn</a>\n        </Menu.Item>\n        <Menu.Item key=\"app\">\n          <a href=\"/register\">SignUp</a>\n        </Menu.Item>\n      </Menu>\n    )\n  } else {\n    return (\n      <Menu mode={props.mode}>\n        <Menu.Item key=\"create\">\n          <a href=\"/tactic\">Create</a>\n        </Menu.Item>\n        <Menu.Item key=\"logout\">\n          <a onClick={logoutHandler}>LogOut</a>\n        </Menu.Item>\n      </Menu>\n    )\n  }\n}\n\nexport default withRouter(RightMenu);\n\n","import React, { useState } from 'react';\nimport LeftMenu from './Sections/LeftMenu';\nimport RightMenu from './Sections/RightMenu';\nimport { Drawer } from 'antd';\nimport './Sections/Navbar.css';\nimport { AiOutlineMenu , AiOutlineSearch } from 'react-icons/ai';\nimport { useDispatch } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\n\nfunction NavBar(props) {\n  const [visible, setVisible] = useState(false);\n  const [search, setSearch] = useState(\"\");\n  const dispatch = useDispatch();\n\n  const showDrawer = () => {\n    setVisible(true)\n  };\n\n  const onClose = () => {\n    setVisible(false)\n  };\n\n  const onSearchChange = (e) => {\n    setSearch(e.target.value);\n  }\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    console.log(\"submit\");\n\n      window.localStorage.setItem('search', search);\n      setSearch(\"\");\n      props.history.push('/search');\n  }\n\n  return (\n    <nav className=\"menu\" style={{ position: 'fixed', zIndex: 5, width: '100%' }}>\n      <Drawer\n          title=\"\"\n          placement=\"left\"\n          className=\"menu_drawer\"\n          closable={true}\n          onClose={onClose}\n          visible={visible}\n          width = \"150\"\n        >\n          <LeftMenu mode=\"inline\" />\n          <RightMenu mode = \"inline\" />\n      </Drawer>\n      <div className = \"d-flex justify-content-between\" style = {{width: \"100%\"}}>\n        <div >\n            <AiOutlineMenu\n              className=\"menu__mobile-button\"\n              onClick={showDrawer}\n            >\n            </AiOutlineMenu>\n            <div className=\"menu__logo\">\n              <a href=\"/\">Logo</a>\n            </div>\n        </div>\n        <form onSubmit = {onSubmit} className = \"form-inline my-2 my-lg-0\" style = {{width: \"50%\"}}>\n            <input onChange = {onSearchChange} value = {search} style = {{width: \"70%\"}} className = \"form-control mr-sm-2\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\" />\n            <button style = {{width: \"10%\"}} className = \"btn my-2 my-sm-0 p-1\" type=\"submit\">\n              <AiOutlineSearch style = {{width: \"100%\"}}/>\n            </button>\n        </form>\n        <div className=\"menu_right\" style = {{width: \"26%\"}}>\n            <RightMenu mode=\"horizontal\" />\n        </div>  \n      </div>\n    </nav>\n  )\n}\n        \nexport default withRouter(NavBar);","import React, { useState } from 'react'\nimport Dropzone from 'react-dropzone';\nimport { AiOutlinePlus } from 'react-icons/ai';\nimport axios from 'axios';\nimport { useSelector } from 'react-redux';\n\nfunction UploadVideoPage(props) {\n    const user = useSelector(state => state.user);\n\n    const [title, setTitle] = useState('');\n    const [description, setDescription] = useState('');\n    const [privacy, setPrivacy] = useState(true);\n    const [filePath, setFilePath] = useState('');\n    const [thumbnail, setThumbnail] = useState('');\n    const [duration, setDuration] = useState('');\n\n    const handleChangeTitle = ( event ) => {\n        setTitle(event.currentTarget.value);\n    }\n\n    const handleChangeDecsription = (event) => {\n        console.log(event.currentTarget.value);\n        setDescription(event.currentTarget.value);\n    }\n\n    const handleChangePrivacy = (event) => {\n        console.log(event.currentTarget.value);\n        setPrivacy(event.currentTarget.value === 'public');\n    }\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n\n        if(user.userData && !user.userData.isAuth){\n            return alert('Please log in first');\n        }\n\n        if(title === \"\"){\n            return alert('Please fill in the title');\n        }\n\n        if(filePath === \"\" || duration === \"\" || thumbnail === \"\"){\n            return alert('Please wait for the file upload completely');\n        }\n\n        const info = {\n            writer: user.userData._id,\n            title,\n            description,\n            privacy,\n            filePath,\n            duration,\n            thumbnail\n        }\n\n        axios.post('/api/video/uploadVideo', info).then(res => {\n            if(res.data.success){\n                alert('Video Uploaded Successfully');\n                props.history.push('/');\n            }\n            else{\n                alert('Failed to upload video');\n            }\n        })\n    }\n\n    const onDrop = (files) => {\n        let formData = new FormData();\n        const config = {\n            header: {'content-type': 'multipart/form-data'}\n        }\n        console.log(files);\n        formData.append('file', files[0]);\n        axios.post('/api/video/uploadfiles', formData, config).then(res => {\n            //console.log(res);\n\n            if(res.data.success){\n                setFilePath(res.data.filePath);\n                let tmp = {\n                    filePath: res.data.filePath,\n                    fileName: res.data.fileName\n                }\n                axios.post('/api/video/thumbnail', tmp).then(res => {\n                    if(res.data.success){\n                        setDuration(res.data.fileDuration);\n                        setThumbnail(res.data.thumbFilePath);\n                    }\n                    else    alert('failed to make the thumbnail');\n                })\n            }\n            else    alert('fail to save video to the server');\n\n        })\n    }\n\n    return (\n        <div className = \"container\" >\n            <h2 className = \"display1 text-center my-5\">Upload Video!!!</h2>\n            <form className = \"d-flex flex-column\" onSubmit = {handleSubmit}>\n                <div className = \"row justify-content-between form-group mb-3\">\n                    <Dropzone \n                        onDrop = {onDrop}\n                        multiple={false}\n                        maxSize={800000000}>\n                        {({ getRootProps, getInputProps }) => (\n                            <div className = \"col-sm-5 col-xs-8\" style={{height: \"30vw\" , border: '1px solid lightgray', display: 'flex', alignItems: 'center', justifyContent: 'center' }}\n                                {...getRootProps()}\n                            >\n                                <input {...getInputProps()} />\n                                <AiOutlinePlus style = {{width : \"50%\", height : \"50%\"}}/>\n                            </div>\n                        )}\n                    </Dropzone>\n                    {(thumbnail !== \"\")? \n                        <div className = \"col-sm-5 col-xs-10\" style = {{height: \"30vw\"}}>\n                            <img src = {`http://localhost:5000/${thumbnail}`} className = \"img-fluid\" alt = \"hi\" style = {{height: \"100%\", width: \"100%\"}}/>\n                        </div> : null}\n                    \n                </div>\n                <div className = \"form-group my-3\">\n                    <label htmlFor = \"title\">Title</label>\n                    <input type=\"text\" className = \"form-control\" id = \"title\" placeholder = \"Title\" onChange = {handleChangeTitle}/>\n                </div>\n                <div className = \"form-group my-3\">\n                    <label htmlfor = \"description\">Description</label>\n                    <input type = \"text\" className = \"form-control\" id = \"description\" placeholder = \"Description\" onChange = {handleChangeDecsription} />\n                </div>\n                <div className = \"form-group my-3\" style = {{width: \"20%\"}}>\n                    <select className = \"form-control\" onChange = {handleChangePrivacy} >\n                        <option>public</option>\n                        <option>private</option>\n                    </select>\n                </div>\n                \n                <button type=\"submit\" className = \"btn btn-primary my-3\" style = {{width: \"20%\"}}>Submit</button>\n            </form>\n        </div>\n    )\n}\n\nexport default UploadVideoPage;\n","import React from 'react'\n\nfunction SideVideoCard({ video }) {\n    const minutes = Math.floor(video.duration / 60);\n    const seconds = Math.floor(video.duration - minutes * 60);\n\n    return (\n        <div className = \"col-12 d-flex mb-5\">\n            <div style={{ width:'60%', marginRight:'1rem' }}>\n                <a href={`/video/${video._id}`}  style={{ color:'gray' }}>\n                    <img style={{ width: '100%' }} src={`http://localhost:5000/${video.thumbnail}`} alt=\"thumbnail\" />\n                </a>\n            </div>\n\n            <div style={{ width:'30%' }}>\n                <a href={`/video/${video._id}`} style={{ color:'gray' }}>\n                    <span style={{ fontSize: '1rem', color: 'black' }}>{video.title}  </span><br />\n                    <span>{video.writer.name}</span><br />\n                    <span>{video.views} views</span><br />\n                    <span>{minutes}:{seconds}</span><br />\n                </a>\n            </div>\n        </div>\n    )\n}\n\n\nexport default SideVideoCard\n","import React, { useEffect , useState } from 'react'\nimport SideVideoCard from './SideVideoCard';\nimport axios from 'axios';\n\nfunction SideVideo({ videoId }) {\n\n    const [sideVideos, setSideVideos] = useState([]);\n\n    useEffect(() => {\n        axios.get('/api/video/getVideos').then(res => {\n            if(res.data.success){\n                console.log(res.data); \n                setSideVideos(res.data.videos);\n            }\n            else{\n                alert('Failed to get videos');\n            }\n        })\n    }, [videoId])\n\n    return (\n        <div className = \"col-lg-3 col-12 \">\n            <div className = \"row\">\n                {sideVideos.filter(video => {\n                    return video._id != videoId;\n                }).map((video, idx) => {\n                    return <SideVideoCard video = {video} key = {idx} />\n                })}\n            </div>\n        </div>\n    )\n}\n\nexport default SideVideo\n","import React, { useEffect , useState } from 'react'\nimport axios from 'axios';\n\n\nfunction Subscribe({ videoWriter , handleSubscribeNumber }) {\n\n    const [subscribeNumber, setSubscribeNumber] = useState(0);\n    const [subscribed, setSubscribed] = useState(false);\n\n    useEffect(() => {\n        const sub = {userTo: videoWriter, userFrom: localStorage.getItem('userId')};\n        axios.post('/api/subscribe/subscribeNumber', sub).then(res => {\n            if(res.data.success){\n                console.log(res.data.subscribeNumber);\n                setSubscribeNumber(res.data.subscribeNumber);\n                handleSubscribeNumber(res.data.subscribeNumber);\n            }\n            else{\n                alert(\"Failed to get the subscribe number\");\n            }\n        })\n\n        axios.post('/api/subscribe/subscribed', sub).then(res => {\n            if(res.data.success){\n                console.log(res.data.subscribed);\n                setSubscribed(res.data.subscribed);\n            }\n            else{\n                alert(\"Failed to get the subscribed information\");\n            }\n        })\n    });\n\n    const handleSubscribe = () => {\n        const sub = {userTo: videoWriter, userFrom: localStorage.getItem('userId')};\n        if(subscribed){\n            axios.post('/api/subscribe/unsubscribe', sub).then(res => {\n                if(res.data.success){\n                    setSubscribeNumber(subscribeNumber - 1);\n                    handleSubscribeNumber(subscribeNumber - 1);\n                    setSubscribed(!subscribed);\n                }\n                else{\n                    alert('Failed to unsubscribe');\n                }\n            })\n        }\n        else{\n            axios.post('/api/subscribe/subscribe', sub).then(res => {\n                if(res.data.success){\n                    setSubscribeNumber(subscribeNumber + 1);\n                    handleSubscribeNumber(subscribeNumber + 1);\n                    setSubscribed(!subscribed);\n                }\n                else{\n                    alert('Failed to subscribe');\n                }\n            })\n        }\n    }\n\n    return (\n        <div>\n            <button type=\"button\" className = {subscribed ? \"btn btn-primary\" : \"btn btn-danger\" } onClick = {handleSubscribe} style = {{\n                    width: \"80%\", \"minWidth\": \"100px\"}}> \n                {subscribed ? \"取消訂閱\" : \"訂閱\"}\n            </button>\n        </div>\n    )\n}\n\nexport default Subscribe\n","import React , { useEffect , useState } from 'react'\nimport { AiTwotoneLike , AiTwotoneDislike , AiOutlineLike , AiOutlineDislike } from 'react-icons/ai';\nimport axios from 'axios';\n\nfunction LikeDislikes(props) {\n\n    const [likesNumber, setLikesNumber] = useState(0);\n    const [dislikesNumber, setDislikesNumber] = useState(0);\n    const [like, setLike] = useState(false);\n    const [dislike, setDislike] = useState(false);\n    let variable = {};\n\n    if (props.video) {\n        variable = { videoId: props.videoId, userId: props.userId }\n    } else {\n        variable = { commentId: props.commentId, userId: props.userId }\n    }\n\n    useEffect(() => {\n        axios.post('/api/like/getLikes', variable).then(res => {\n                console.log('getLikes',res.data);\n                if (res.data.success) {\n                    setLikesNumber(res.data.likesNumber);\n                    setLike(res.data.likes);\n                } \n                else {\n                    alert('Failed to get likes')\n                }\n        })\n\n        axios.post('/api/like/getDislikes', variable).then(res => {\n            console.log('getDislikes',res.data);\n            if (res.data.success) {\n                setDislikesNumber(res.data.dislikesNumber);\n                setDislike(res.data.dislikes);\n            } \n            else {\n                alert('Failed to get dislikes');\n            }\n        })\n\n    } , [props])\n\n    const onLike = () => {\n            axios.post('/api/like/upLike', variable).then(res => {\n                    if (res.data.success) {\n\n                        setLikesNumber(likesNumber + 1);\n                        setLike(true);\n\n                        //If dislike button is already clicked\n                        if (dislike) {\n                            setDislike(false);\n                            setDislikesNumber(dislikesNumber - 1);\n                        }\n                    } \n                    else {\n                        alert('Failed to increase the like')\n                    }\n            })\n    }\n\n    const clearLike = () => {\n        axios.post('/api/like/unLike', variable).then(res => {\n                    if (res.data.success) {\n                        setLikesNumber(likesNumber - 1);\n                        setLike(false);\n                    } \n                    else {\n                        alert('Failed to decrease the like')\n                    }\n        })\n    }\n\n    const onDislike = () => {\n            axios.post('/api/like/upDisLike', variable).then(res => {\n                    if (res.data.success) {\n                        setDislikesNumber(dislikesNumber + 1);\n                        setDislike(true);\n\n                        //If dislike button is already clicked\n                        if(like) {\n                            setLike(false);\n                            setLikesNumber(likesNumber - 1);\n                        }\n                    }\n                    else {\n                        alert('Failed to increase dislike')\n                    }\n            })\n    }\n\n    const clearDislike = () => {\n            axios.post('/api/like/unDisLike', variable).then(res => {\n                    if (res.data.success) {\n                        setDislikesNumber(dislikesNumber - 1);\n                        setDislike(false);\n                    } \n                    else {\n                        alert('Failed to decrease dislike')\n                    }\n            })\n    }\n\n    return (\n        <div className = \"d-flex\">\n                {like ? <AiTwotoneLike onClick = {clearLike} className = \"align-self-start\" style = {{width: props.size, height: props.size}}/>\n                      : <AiOutlineLike onClick = {onLike} className = \"align-self-start\" style = {{width: props.size, height: props.size}}/>}\n                <span className = {`align-self-start ${props.mar}`} style={{ paddingLeft: '8px', cursor: 'auto' }}>{likesNumber}</span>\n                {dislike ? <AiTwotoneDislike onClick = {clearDislike} className = \"align-self-start\" style = {{width: props.size, height: props.size}}/>\n                         : <AiOutlineDislike onClick = {onDislike} className = \"align-self-start\" style = {{width: props.size, height: props.size}}/>}\n                <span className = {`align-self-start ${props.mar}`} style={{ paddingLeft: '8px', cursor: 'auto' }}>{dislikesNumber}</span>\n        </div>\n    )\n}\n\nexport default LikeDislikes\n","import React , { useState } from 'react'\nimport { useSelector } from 'react-redux';\nimport axios from 'axios';\nimport LikeDislikes from './LikeDislikes';\n\nfunction SingleComment({ comment , refreshComments , postId }) {\n    const user = useSelector(state => state.user)\n    const [commentValue, setCommentValue] = useState(\"\");\n    const [openReply, setOpenReply] = useState(false);\n\n    const handleChange = e => {\n        console.log(e.currentTarget.value);\n        setCommentValue(e.currentTarget.value);\n    }\n\n    const handleOpenReply = () => {\n        setOpenReply(!openReply);\n    }\n\n    const onSubmit = (e) => {\n        e.preventDefault();\n        const tmp = {\n            content: commentValue,\n            writer: user.userData._id,\n            postId: postId,\n            responseTo: comment._id\n        }\n\n        axios.post('/api/comment/saveComment', tmp).then(res => {\n            if(res.data.success){\n                setCommentValue(\"\");\n                setOpenReply(!openReply);\n                refreshComments(res.data.result);\n            }\n            else{\n                alert('Failed to save comment');\n            }\n        })\n    }\n\n    return (\n            <div>\n                <div className = \"row mb-4 mt-4\">\n                    <div className = \"col-1\">\n                        <a href = {`/user/${comment.writer._id}`}>\n                            <img src = {comment.writer.image} className = \"img-fluid\" style = {{borderRadius: \"50%\", width: \"3rem\", height: \"3rem\"}} alt = \"img\"/>\n                        </a> \n                    </div>\n                    <div className = \"col-11 d-flex flex-column\"> \n                        <span style = {{color: \"gray\", fontSize: \"1.3rem\" , marginBottom: \"-1.5rem\"}}>{comment.writer.name}</span><br/>\n                        <span style = {{color: \"#404040\", fontSize: \"1.5rem\", marginBottom: \"-1rem\"}}>{comment.content}</span> <br />\n                        <div className = \"d-flex\" style = {{marginBottom: \"-1rem\"}}>\n                            <LikeDislikes comment commentId = {comment._id} userId = {localStorage.getItem('userId')} size = \"1rem\" mar = \"mr-2\"/>\n                            <span className = \"align-self-center\" onClick = {handleOpenReply}>reply to</span>\n                        </div> \n                    </div>\n                </div>\n                {openReply && \n                <form onSubmit = {onSubmit}>\n                    <div className = \"input-group\">\n                        <input type=\"text\" className = \"form-control\" value = {commentValue} placeholder=\"write some comments\" onChange = {handleChange} aria-label=\"Recipient's username\" aria-describedby=\"button-addon2\" />\n                        <div className = \"input-group-append\">\n                            <button className = \"btn btn-primary\" type=\"submit\" id=\"button-addon2\">Submit</button>\n                        </div>\n                    </div>\n                </form>\n                }           \n            </div>\n    )\n}\n\nexport default SingleComment\n","import React, { useEffect, useState } from 'react'\nimport SingleComment from './SingleComment';\n\nfunction ReplyComment({ commentList , postId , refreshComments , parentCommentId }) {\n\n    const [childCommentNumber, setChildCommentNumber] = useState(0);\n    const [openReply, setOpenReply] = useState(false);\n\n\n    useEffect(() => {\n        let commentNumber = commentList.filter(comment => {\n            return comment.responseTo === parentCommentId;\n        }).length;\n        setChildCommentNumber(commentNumber);\n        console.log(\"number\", childCommentNumber);\n    }, [commentList, parentCommentId])\n\n    const handelOpenReply = () => {\n        setOpenReply(!openReply);\n    }\n\n\n    return (\n        <div className = \"ml-5\">\n            {childCommentNumber > 0 && \n            <p style={{ fontSize: '14px', margin: 0, color: 'gray' }} onClick = {handelOpenReply}> View {childCommentNumber} more comment(s)</p>\n            }\n\n            {openReply && commentList.map((comment, idx) => {\n                return (\n                    <React.Fragment >\n                        {comment.responseTo === parentCommentId && \n                        <div >\n                            {\n                            <SingleComment comment = {comment} postId = {postId} refreshComments = {refreshComments} key = {idx}/>\n                            }\n                            <ReplyComment commentList = {commentList} postId = {postId} refreshComments = {refreshComments} parentCommentId = {comment._id}/>\n                        </div>}\n                    </React.Fragment>\n                    \n                );\n            })}\n        </div>\n    )\n}\n\nexport default ReplyComment\n","import Axios from 'axios';\nimport React, { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport ReplyComment from './ReplyComment';\nimport SingleComment from './SingleComment';\n\nfunction Comments({ postId , handleComments , commentList }) {\n    const [comment, setComment] = useState(\"\");\n    const user = useSelector(state => state.user);\n\n    const handleChange = e => {\n        console.log(e.currentTarget.value);\n        setComment(e.currentTarget.value);\n    }\n\n    const onSubmit = e => {\n        e.preventDefault();\n\n        const tmp = {\n            content: comment,\n            writer: user.userData._id,\n            postId: postId\n        }\n\n        Axios.post('/api/comment/saveComment', tmp).then(res => {\n            if(res.data.success){\n                setComment(\"\");\n                handleComments(res.data.result);\n            }\n            else{\n                alert('Failed to save comment');\n            }\n        })\n    }\n\n    return (\n        <div>\n            <p> replies </p>\n            <hr />\n\n            {commentList.map((comment, idx) => {\n                return (!comment.responseTo && \n                    <React.Fragment>\n                        <SingleComment comment = {comment} postId = {postId} refreshComments = {handleComments} key = {idx}/>\n                        {\n                        <ReplyComment commentList = {commentList} postId = {postId} refreshComments = {handleComments} parentCommentId = {comment._id}/>\n                        }\n                    </React.Fragment>\n                );\n            })}\n\n            <form onSubmit = {onSubmit}>\n                <div className = \"input-group\">\n                    <input type=\"text\" className = \"form-control\" value = {comment} placeholder=\"write some comments\" onChange = {handleChange} aria-label=\"Recipient's username\" aria-describedby=\"button-addon2\" />\n                    <div className = \"input-group-append\">\n                        <button className = \"btn btn-primary\" type=\"submit\" id=\"button-addon2\" style = {{width: \"100%\"}}>Submit</button>\n                    </div>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default Comments\n","import React, { useEffect , useState } from 'react'\nimport axios from 'axios';\nimport SideVideo from './Sections/SideVideo';\nimport Subscribe from './Sections/Subscribe';\nimport moment from 'moment';\nimport Comments from './Sections/Comments';\nimport LikeDislikes from './Sections/LikeDislikes';\n\nfunction DetailVideoPage(props) {\n\n    const videoId = props.match.params.videoId;\n    const [video, setVideo] = useState([]);\n    const [subscribe, setSubscribe] = useState(0);\n    const [comments, setComments] = useState([]);\n\n    useEffect(() => {\n        console.log(videoId);\n        axios.post('/api/video/getVideo', {videoId}).then(res => {\n            if(res.data.success){\n                console.log(res.data);\n                setVideo(res.data.video);\n            }\n            else{\n                alert('Failed to get video');\n            }\n        })\n        axios.post('/api/comment/getComments', {videoId}).then(res => {\n            if(res.data.success){\n                console.log(res.data);\n                setComments(res.data.comments);\n            }\n            else{\n                alert('Failed to get comments');\n            }\n        })\n    }, []);\n\n    const  handleSubscribeNumber = number => {\n        setSubscribe(number);\n    }\n\n    const handleComments = (newComment) => {\n        setComments(comments.concat(newComment));\n    }\n\n    if(video.writer){\n        return (\n            <div className = \"container-fluid mt-5 mx-3\">\n                <div className = \"row\">\n                    <div className=\"postPage col-lg-9 col-12 mb-3\">\n                        <video style={{ width: '100%' }} src={`http://localhost:5000/${video.filePath}`} controls></video>\n                        <div className = \"my-3\" style={{ width: '100%' }}>\n                            <h4>{video.title}</h4>\n                            <div className = \"d-flex justify-content-between\">\n                                <p>{moment(video.createdAt).format(\"YYYY-MM-DD\")}</p>\n                                <LikeDislikes video videoId = {videoId} userId = {localStorage.getItem('userId')} size = \"1.5rem\" mar = \"mr-3\"/>\n                            </div>\n                            <hr />\n                        </div> \n                        <div className = \"row mt-3 mb-5\">\n                            <div className = \"col-2 col-sm-1\">\n                                <a href = {`/user/${video.writer._id}`}>\n                                <img src = {video.writer && video.writer.image} className = \"img-fluid\" style = {{borderRadius: \"50%\"}} alt = \"img\"/>\n                                </a>\n                            </div>\n                            <div className = \"col-6 col-sm-7\"> \n                                <h5>{video.writer.name}</h5>\n                                <p>訂閱人數 : {subscribe}</p>  \n                                <p >{video.description}</p>\n                            </div>\n                            <div className = \"col-4 col-md-3 offset-md-1\">\n                                <Subscribe videoWriter = {video.writer._id} handleSubscribeNumber = {handleSubscribeNumber}/>\n                            </div>\n                        </div>\n                        <Comments commentList = {comments} postId = {videoId} handleComments = {handleComments}/>\n                    </div>\n                    <SideVideo videoId = {videoId} />\n                </div>\n            </div>  \n        )\n    }\n    else    return <div>Loading ... </div>\n}\n\nexport default DetailVideoPage\n","import React , { useEffect , useState } from 'react'\nimport VideoCard from '../LandingPage/VideoCard';\nimport axios from 'axios';\n\nfunction SubscriptionPage() {\n    const [videos, setVideos] = useState([]);\n\n    useEffect(() => {\n        axios.post('/api/video/getSubscriptionVideos', {user: localStorage.getItem('userId')}).then(res => {\n            if(res.data.success){\n                console.log(res.data); \n                setVideos(res.data.videos);\n            }\n            else{\n                alert('Failed to get subscription videos');\n            }\n        })\n    })\n\n    return (\n        <div className = \"container my-3\">\n            <h2 className = \"display1 mt-5 mb-3\"> Subscribed Videos </h2>\n            <hr className = \"mb-3\"/>\n            <div className = \"row\">\n                {videos.map((video, idx) => {\n                    return <VideoCard video = {video} key = {idx}/>\n                })}\n            </div>\n        </div>\n    )\n}\n\nexport default SubscriptionPage\n","import React , { useEffect , useState } from 'react'\nimport VideoCard from '../LandingPage/VideoCard';\nimport axios from 'axios';\n\nfunction SubscriptionPage(props) {\n    const userId = props.match.params.userId;\n    const [videos, setVideos] = useState([]);\n    const [userName, setUserName] = useState(\"\");\n\n    useEffect(() => {\n        axios.post('/api/users/userGetVideos', {userId: userId}).then(res => {\n            if(res.data.success){\n                console.log(res.data); \n                setVideos(res.data.videos);\n                setUserName(res.data.name);\n            }\n            else{\n                alert('Failed to get user videos');\n            }\n        })\n    })\n\n    return (\n        <div className = \"container my-3\">\n            <h2 className = \"display1 mt-5 mb-3\"> {userName} </h2>\n            <hr className = \"mb-3\"/>\n            <div className = \"row\">\n                {videos.map((video, idx) => {\n                    return <VideoCard video = {video} key = {idx}/>\n                })}\n            </div>\n        </div>\n    )\n}\n\nexport default SubscriptionPage","const color = [\"#CC0000\", \"#FFFF00\", \"#00CC00\", \"#4BABE4\", \"#4353E4\", \"#7928B6\", \"#FF9933\"]\n\nexport const all = [];\nfor(let i = 0; i < 7; i++){\n    const team = [];\n    for(let j = 15; j > 0; j--){\n        const player = {\n            dragging: false,\n            x : (i === 6)? 350 : 0 + 50 * i,\n            y : 50,\n            color: color[i],\n            name: (i === 6)? \"\" : `${j}`,\n            hasMoved: false,\n            team: i,\n            idx: 15 - j,\n            ball: (i === 6),\n        }\n        team.push(player);\n    }\n    all.push(team);\n}\n\nexport const hasAnimation = [];\nfor(let i = 0; i < 7; i++){\n    const team = [];\n    for(let j = 15; j > 0; j--){\n        team.push({\n            exist: false,\n            x : 0,\n            y : 0,\n            path: null,\n            ctrl_pt1: {x: 0, y: 0, dragging: false},\n            ctrl_pt2: {x: 0, y: 0, dragging: false}, \n            color: color[i],\n            team: i,\n            idx: 15 - j,\n            ball: (i === 6),\n            name: (i === 6)? \"\" : `${j}`\n        });\n    }\n    hasAnimation.push(team);\n}","import React , { useEffect , useState } from 'react'\nimport VideoCard from '../LandingPage/VideoCard';\nimport axios from 'axios';\n\nfunction SearchPage() {\n    const [videos, setVideos] = useState([]);\n    const search = localStorage.getItem('search');\n\n    useEffect(() => {\n        axios.post('/api/video/search', {search: search} ).then(res => {\n            console.log(res.data);\n            if(res.data.success){\n              console.log(\"success\");\n              setVideos(res.data.videos);\n            }\n            else{\n              alert('Failed to search');\n            }\n        })\n    }, [search])\n\n    return (\n        <div className = \"container my-3\">\n            <h2 className = \"display1 mt-5 mb-3\"> {videos.length > 0? \"Search Videos\" : \"Video Not Found\"} </h2>\n            <hr className = \"mb-3\"/>\n            <div className = \"row\">\n                {videos.map((video, idx) => {\n                    return <VideoCard video = {video} key = {idx}/>\n                })}\n            </div>\n        </div>\n    )\n}\n\nexport default SearchPage;","import React from 'react'\nimport basketball from './images/basketball-ball.svg'\n\nfunction OpacityPlayer( { x , y , color , name , ball } ) {\n    return (\n        <g className = \"fixed_player_btn\" >\n            {ball? \n            <image href = {basketball} x = {x - 13} y = {y - 13} width = \"26px\" height = \"26px\"/>\n                :  \n            <circle cx = {x} cy = {`${y - 2.5}`} r = \"13\" fill = {color} /> }\n            <text fontSize = \"14\" fill = \"#000000\" className = \"player_name\"\n                x = {`${x - 6}`} \n                y = {`${y + 2.5}`} >\n                {name}\n            </text>\n        </g>\n    )\n}\n\nexport default OpacityPlayer\n","import React from 'react'\n\nfunction ControlPoint( { x , y , color , onMouseDown , onMouseMove, onMouseUp } ) {\n    return (\n            <g className = \"control_btn\" data-draggable = \"1\" data-long-touchable = \"1\" data-on-top-when-touched = \"1\">\n                <circle cx = { x } cy = { y } r = \"6\" fill = {color} onMouseDown = {onMouseDown} onMouseMove = {onMouseMove} onMouseUp = {onMouseUp} /> \n            </g>\n    )\n}\n\nexport default ControlPoint\n","import React from 'react'\nimport basketball from './images/basketball-ball.svg'\n\nfunction PlayerBall({ x , y , color , ball , name , offset }) {\n    return ball? \n            <image href = {basketball} x = {x - 13} y = {y - 13 + offset} width = \"26px\" height = \"26px\"/> \n                : \n            <React.Fragment> \n                <circle cx = {x} cy = {`${y - 2.5 + offset}`} r = \"13\" fill = {color} /> \n                <text fontSize = \"14\" fill = \"#000000\" className = \"player_name\" x = {`${x - 5.5}`} y = {`${y + 5}`} >{name}</text>\n            </React.Fragment>\n}\n\nexport default PlayerBall\n","import React , { useState, useLayoutEffect } from 'react'\nimport court from './images/court.jpg';\nimport { all , hasAnimation } from './InitialPosition';\nimport './CreateTacticPage.css';\nimport { AiOutlinePlus , AiOutlinePause } from 'react-icons/ai';\nimport OpacityPlayer from './OpacityPlayer';\nimport ControlPoint from './ControlPoint';\nimport PlayerBall from './PlayerBall';\nimport { FaPlay , FaStop , FaPause , FaPlus } from 'react-icons/fa';\n\nconst defaultFrameRate = 3;\n\nfunction CreateTacticPage() {\n    const [viewSize, setViewSize] = useState({ courtWidth: 0, courtHeight: 0, windowWidth: 0, windowHeight: 0 });\n    const [totalFrame, setTotalFrame] = useState(0);\n    const [currentFrame, setCurrentFrame] = useState(0);\n    const [position, setPosition] = useState(all);\n    const [animation, setAnimation] = useState(hasAnimation);\n    const [previousPosition, setPreviousPosition] = useState([]);\n    const [play, setPlay] = useState(false);\n    const [end, setEnd] = useState(true);\n    const [videoInfo, setVideoInfo] = useState([]);\n    const [video, setVideo] = useState([]);\n    const [frameRate, setFrameRate] = useState(defaultFrameRate);\n    const [timer , setTimer] = useState(null);\n\n    useLayoutEffect(() => {\n        function updateSize() {\n            let w, h;\n            if(window.innerWidth  * 15 / 28 < (window.innerHeight - 90)){\n                console.log(\"width base\");\n                w = window.innerWidth;\n                h = window.innerWidth * 15 / 28;\n            }\n            else{\n                console.log(\"height base\");\n                w = (window.innerHeight - 90) * 0.8 * 28 / 15;\n                h = (window.innerHeight - 90) * 0.8;\n            }\n            setViewSize({ courtWidth: w, courtHeight: h, windowWidth: window.innerWidth, windowHeight: window.innerHeight });\n\n            let pos = [...position];\n            pos = pos.map((team, team_id) => {\n                return team.map((player, player_id) => {\n                    if(player.hasMoved)     return player;\n                    player.x = window.innerWidth * 0.15 + 10 + team_id * 35 + ((team_id === 6)? 50  : 0);\n                    player.y = (h > 300)? 0.85 * h : 0.85 * h - 0.1 * (h - 300);\n                    return player;\n                })\n            });\n            setPosition(pos);\n        }\n        window.addEventListener('resize', updateSize);\n        updateSize();\n        return () => window.removeEventListener('resize', updateSize);\n      }, []);\n\n    function handlePointerDown(event, team, player){\n        event.preventDefault();\n        const pos = [...position];\n        pos[team][player].dragging = true;\n        setPosition(pos);\n    }\n\n    function handlePointerMove(event, team, player){\n        event.preventDefault();\n        if(!position[team][player].dragging)    return;\n\n        console.log(\"mousemove\")\n        const pos = [...position];\n        const CTM = document.getElementById(\"svg\").getScreenCTM();\n        pos[team][player].x = (event.clientX - CTM.e) / CTM.a;\n        pos[team][player].y = (event.clientY - CTM.f) / CTM.d;\n        pos[team][player].hasMoved = true;\n        setPosition(pos);\n        \n        if(animation[team][player].exist){\n            const ani = [...animation];\n            const point = {x1: animation[team][player].x, y1: animation[team][player].y, x2: pos[team][player].x, y2: pos[team][player].y};\n            ani[team][player].ctrl_pt1 = { x : point.x1 + (point.x2 - point.x1) / 3, y : point.y1 + (point.y2 - point.y1) / 3};\n            ani[team][player].ctrl_pt2 = { x : point.x1 + (point.x2 - point.x1) * 2 / 3, y : point.y1 + (point.y2 - point.y1) * 2 / 3};\n            ani[team][player].path = <path d = {`M${animation[team][player].x} ${animation[team][player].y} C ${ani[team][player].ctrl_pt1.x} ${ani[team][player].ctrl_pt1.y}, ${ani[team][player].ctrl_pt2.x} ${ani[team][player].ctrl_pt2.y}, ${pos[team][player].x} ${pos[team][player].y}`}\n                                           className = \"path\" style = {{stroke: pos[team][player].color}} />\n            setAnimation(ani);\n        }\n    }\n\n    function handlePointerUp(event, team, player){\n        event.preventDefault();\n        console.log(\"mouseup\")\n        const pos = [...position];\n        pos[team][player].dragging = false;\n        setPosition(pos);\n    }\n\n    const increaseCurrentFrame = () => {\n        let ani = [...animation];\n        const videoFrame = [];\n        ani.forEach(team => {\n            team.forEach(player => {\n                if(position[player.team][player.idx].hasMoved){\n                    const move = {\n                        idx: player.idx,\n                        color: player.color,\n                        path: player.path? player.path.props.d : `M${position[player.team][player.idx].x} ${position[player.team][player.idx].y}`,\n                        ball: player.ball,\n                        name: player.name\n                    }\n                    videoFrame.push(move);\n                    player.path = null;\n                }\n            })\n        })\n        setVideoInfo([...videoInfo, videoFrame]);\n\n        const fixed_section = position.map(team => {\n            return team.filter(player => { return (player.hasMoved); }).map(player  => {\n                ani[player.team][player.idx].exist = true;\n                ani[player.team][player.idx].x = position[player.team][player.idx].x;\n                ani[player.team][player.idx].y = position[player.team][player.idx].y;\n                return <OpacityPlayer x = {position[player.team][player.idx].x} y = {position[player.team][player.idx].y} color = { player.color } name = {player.name} ball = {player.ball}/>\n            })\n        });\n\n        setTotalFrame(totalFrame + 1);\n        setAnimation(ani);\n        setPreviousPosition(fixed_section);\n    }\n\n    const player_section = position.map((team, team_id) => {\n        return team.map((player , player_id) => {\n            return (\n                <g className = \"player_btn\" data-draggable = \"1\" data-long-touchable = \"1\" data-on-top-when-touched = \"1\" onMouseDown = {e => handlePointerDown(e, team_id, player_id)}  onMouseMove = {e => handlePointerMove(e, team_id, player_id)} onMouseUp = {e => handlePointerUp(e, team_id, player_id)} >\n                    <PlayerBall x = {`${position[team_id][player_id].x}`} y = {`${position[team_id][player_id].y}`} color = {player.color} name = {player.name} ball = {player.ball} offset = {0}/>\n                </g>\n            )\n        })\n    })\n\n    const animation_path = animation.map(team => {\n        return team.filter(player => { return (player.path);}).map(player => {\n            return player.path;\n        })\n    })\n\n    function handleControlPointDown(event, team, player, point){\n        event.preventDefault();\n        console.log(\"ctrlmousedown\");\n        const ani = [...animation];\n        ani[team][player][point].dragging = true;\n        setAnimation(ani);\n    }\n\n    function handleControlPointMove(event, team, player, point){\n        event.preventDefault();\n        if(!animation[team][player][point].dragging)    return;\n\n        console.log(\"ctrlmousemove\")\n        const ani = [...animation];\n        const CTM = document.getElementById(\"svg\").getScreenCTM();\n        ani[team][player][point].x = (event.clientX - CTM.e) / CTM.a;\n        ani[team][player][point].y = (event.clientY - CTM.f) / CTM.d;\n        \n        ani[team][player].path = <path d = {`M${ani[team][player].x} ${ani[team][player].y} C${ani[team][player].ctrl_pt1.x} ${ani[team][player].ctrl_pt1.y},${ani[team][player].ctrl_pt2.x} ${ani[team][player].ctrl_pt2.y}, ${position[team][player].x} ${position[team][player].y}`}\n                                           className = \"path\" style = {{stroke: ani[team][player].color}} />\n        \n        setAnimation(ani);\n    }\n\n    function handleControlPointUp(event, team, player, point){\n        event.preventDefault();\n        console.log(\"ctrlmouseup\")\n        const ani = [...animation];\n        ani[team][player][point].dragging = false;\n        setAnimation(ani);\n    }\n\n\n    const control_point = animation.map(team => {\n        return team.filter(player => { return (player.path);}).map(player => {\n            return (\n                <React.Fragment>\n                    <ControlPoint x = {player.ctrl_pt1.x} y = {player.ctrl_pt1.y} color = {player.color} onMouseDown = {e => handleControlPointDown(e, player.team, player.idx, \"ctrl_pt1\")}  onMouseMove = {e => handleControlPointMove(e, player.team, player.idx, \"ctrl_pt1\")} onMouseUp = {e => handleControlPointUp(e, player.team, player.idx, \"ctrl_pt1\")}/>\n                    <ControlPoint x = {player.ctrl_pt2.x} y = {player.ctrl_pt2.y} color = {player.color} onMouseDown = {e => handleControlPointDown(e, player.team, player.idx, \"ctrl_pt2\")}  onMouseMove = {e => handleControlPointMove(e, player.team, player.idx, \"ctrl_pt2\")} onMouseUp = {e => handleControlPointUp(e, player.team, player.idx, \"ctrl_pt2\")}/>\n                </React.Fragment> \n            )\n        })\n    })\n\n    const handlePlay = () => {\n        if(end){\n            setCurrentFrame(0);\n            document.getElementById(\"svg\").setCurrentTime(0);\n            setVideo(videoInfo.map((frame, frame_id) => {\n                return frame.map((player, player_id) => {\n                    return (\n                        <g>\n                            <PlayerBall x = {0} y = {0} color = {player.color} ball = {player.ball} name = {player.name} offset = {2.5}/>\n                            <set attributeName=\"visibility\"  to = \"hidden\" begin = \"0s\"  fill=\"freeze\" />\n                            <animate id = {`vis${frame_id}p${player_id}`} dur={`1ms`} attributeName=\"visibility\" from=\"hidden\" to=\"visible\" begin = {`${(frame_id) * frameRate}s`} repeatCount=\"0\" fill=\"freeze\" />\n                            <animateMotion id = {`move${frame_id}p${player_id}`} path = {player.path} dur = {`${frameRate}s`} begin = {`vis${frame_id}p${player_id}.end`} fill = \"freeze\"/>\n                            {(frame_id === totalFrame - 1)? null : <set attributeName=\"visibility\"  to=\"hidden\" begin={`move${frame_id}p${player_id}.end`}  fill=\"freeze\" />}\n                        </g>\n                    )\n                })\n            }));\n            setEnd(false);\n        }\n        setPlay(true);\n        document.getElementById(\"svg\").unpauseAnimations();\n        if(timer === null){\n            const t = setInterval(interval, frameRate * 1000);\n            console.log(\"settimer\", t);\n            setTimer(t);\n        }\n    }\n\n    function interval(){\n        const t = document.getElementById(\"svg\").getCurrentTime();\n        console.log(timer);\n        console.log(t);\n        const frame = Math.min(totalFrame, Math.round(t / frameRate));\n        setCurrentFrame(frame);\n        if(frame === totalFrame){\n            handleStop();\n        }\n    }\n\n    const handlePause = () => {\n        setPlay(false);\n        document.getElementById(\"svg\").pauseAnimations();\n        console.log(timer);\n        clearInterval(timer);\n        setTimer(null);\n        console.log(\"cleartimer\");\n    }\n    \n    function handleStop() {\n        console.log(\"stop\");\n        console.log(timer);\n        if(timer){\n            clearInterval(timer);\n            setTimer(null);\n            console.log(\"cleartimer\");\n        }\n        setEnd(true);\n        setPlay(false);\n    }\n\n    return (\n        <div className = \"my-3\" style = {{width: \"100%\", height: `${viewSize.windowHeight}px`}}>\n                <div id = \"control-btn-section\" className = \"d-flex\" style = {{padding: `0 ${viewSize.windowWidth * 0.15}px`, margin: \"15px 0\"}}>\n                    {end?   <h3 className = \"align-self-center\">{totalFrame}</h3>\n                                :\n                            <h3 className = \"align-self-center\">{`${currentFrame} /  ${totalFrame}`}</h3>         \n                    }\n                    {play? \n                    <FaPause className = \"control-btn align-self-center\" size = {30 * viewSize.courtHeight / 500} onClick = {handlePause}/>\n                        :\n                    <FaPlay className = \"control-btn align-self-center\" size = {30 * viewSize.courtHeight / 500} onClick = {handlePlay}/>\n                    }\n                    <FaStop className = \"control-btn align-self-center\" size = {30 * viewSize.courtHeight / 500} onClick = {handleStop} />\n                    <FaPlus className = \"control-btn align-self-center\" size = {30 * viewSize.courtHeight / 500} onClick = {increaseCurrentFrame}/>\n                </div>\n                <svg viewBox = {`0 0 ${viewSize.courtWidth} ${viewSize.courtHeight}`} id = \"svg\" >\n                    <image href = {court} x = \"0\" y = \"0\" width = {`${viewSize.courtWidth}px`} height = {`${viewSize.courtHeight * 0.8}px`} />\n                    \n                    {   end?    <React.Fragment>\n                                    {animation_path}\n                                    {previousPosition}\n                                    {player_section}\n                                    {control_point}\n                                </React.Fragment> \n                                    :\n                                video        \n                    } \n                </svg>\n        </div>\n    )\n}\n\nexport default CreateTacticPage\n","import React, { Suspense } from 'react';\nimport { Route, Switch } from \"react-router-dom\";\nimport Auth from \"../hoc/auth\";\n// pages for this product\nimport LandingPage from \"./views/LandingPage/LandingPage.js\";\nimport LoginPage from \"./views/LoginPage/LoginPage.js\";\nimport RegisterPage from \"./views/RegisterPage/RegisterPage.js\";\nimport NavBar from \"./views/NavBar/NavBar\";\nimport UploadVideoPage from './views/UploadVideoPage/UploadVideoPage';\nimport DetailVideoPage from './views/DetailVideoPage/DetailVideoPage';\nimport SubscriptionPage from './views/SubscriptionPage/SubscriptionPage';\nimport UserPage from './views/UserPage/UserPage';\nimport SearchPage from './views/SearchPage/SearchPage';\nimport CreateTacticPage from './views/CreateTacticPage/CreateTacticPage';\n\n//null   Anyone Can go inside\n//true   only logged in user can go inside\n//false  logged in user can't go inside\n\nfunction App() {\n  return (\n    <Suspense fallback={(<div>Loading...</div>)}>\n      <NavBar />\n      <div style={{ paddingTop: '69px', minHeight: 'calc(100vh - 80px)' }}>\n        <Switch>\n          <Route exact path = \"/\" component={Auth(LandingPage, null)} />\n          <Route exact path = \"/login\" component={Auth(LoginPage, false)} />\n          <Route exact path = \"/register\" component={Auth(RegisterPage, false)} />\n          <Route exact path = \"/video/upload\" component={Auth(UploadVideoPage, true)} />\n          <Route exact path = \"/video/:videoId\" component = {Auth(DetailVideoPage, null)} />\n          <Route exact path = \"/subscription\" component = {Auth(SubscriptionPage, true)} />\n          <Route exact path = \"/user/:userId\" component = {Auth(UserPage, null)} />\n          <Route exact path = \"/search\" component = {Auth(SearchPage, null)} />\n          <Route exact path = \"/tactic\" component = {Auth(CreateTacticPage, null)} />\n        </Switch>\n      </div>\n    </Suspense>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { combineReducers } from 'redux';\nimport user from './user_reducer';\n\nconst rootReducer = combineReducers({\n    user,\n});\n\nexport default rootReducer;","import {\n    LOGIN_USER,\n    REGISTER_USER,\n    AUTH_USER,\n    LOGOUT_USER,\n} from '../_actions/types';\n \n\nexport default function(state={},action){\n    switch(action.type){\n        case REGISTER_USER:\n            return {...state, register: action.payload }\n        case LOGIN_USER:\n            return { ...state, loginSucces: action.payload }\n        case AUTH_USER:\n            return {...state, userData: action.payload }\n        case LOGOUT_USER:\n            return {...state }\n        default:\n            return state;\n    }\n}","import 'react-app-polyfill/ie9';\nimport 'react-app-polyfill/ie11';\nimport 'core-js';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport Reducer from './_reducers';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport promiseMiddleware from 'redux-promise';\nimport ReduxThunk from 'redux-thunk';\n\nconst createStoreWithMiddleware = applyMiddleware(promiseMiddleware, ReduxThunk)(createStore);\n\nReactDOM.render(\n    <Provider\n        store={createStoreWithMiddleware(\n            Reducer,\n            window.__REDUX_DEVTOOLS_EXTENSION__ &&\n            window.__REDUX_DEVTOOLS_EXTENSION__()\n        )}\n    >\n        <BrowserRouter>\n            <App />\n        </BrowserRouter>\n    </Provider>\n    , document.getElementById('root'));\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}